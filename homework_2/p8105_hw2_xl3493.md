Homework 2
================
Xuange Liang (xl3493)
2025-10-12

## Problem 1

This problem uses the FiveThirtyEight data to analyze political and
economic trends. We’ll work with three datasets: `pols-month.csv`,
`unemployment.csv`, and `snp.csv`.

### Loading required libraries

``` r
library(tidyverse)
```

### Cleaning the pols-month dataset

``` r
pols_df <- read_csv("data/fivethirtyeight_datasets/pols-month.csv") %>%
  separate(mon, into = c("year", "month", "day"), sep = "-", convert = TRUE) %>%
  mutate(
    month = month.name[month],
    president = case_when(
      prez_gop == 1 ~ "gop",
      prez_dem == 1 ~ "dem"
    )
  ) %>%
  select(-prez_dem, -prez_gop, -day)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
pols_df
```

    ## # A tibble: 822 × 9
    ##     year month     gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <int> <chr>       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1  1947 January        23      51     253      23      45     198 dem      
    ##  2  1947 February       23      51     253      23      45     198 dem      
    ##  3  1947 March          23      51     253      23      45     198 dem      
    ##  4  1947 April          23      51     253      23      45     198 dem      
    ##  5  1947 May            23      51     253      23      45     198 dem      
    ##  6  1947 June           23      51     253      23      45     198 dem      
    ##  7  1947 July           23      51     253      23      45     198 dem      
    ##  8  1947 August         23      51     253      23      45     198 dem      
    ##  9  1947 September      23      51     253      23      45     198 dem      
    ## 10  1947 October        23      51     253      23      45     198 dem      
    ## # ℹ 812 more rows

### Cleaning the snp dataset

``` r
snp_df <- read_csv("data/fivethirtyeight_datasets/snp.csv") %>%
  separate(date, into = c("month", "day", "year"), sep = "/", convert = TRUE) %>%
  mutate(
    year = if_else(year >= 50, 1900 + year, 2000 + year),
    month = month.name[month]
  ) %>%
  select(year, month, close) %>%
  arrange(year, month)
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp_df
```

    ## # A tibble: 787 × 3
    ##     year month    close
    ##    <dbl> <chr>    <dbl>
    ##  1  1950 April     18.0
    ##  2  1950 August    18.4
    ##  3  1950 December  20.4
    ##  4  1950 February  17.2
    ##  5  1950 January   17.0
    ##  6  1950 July      17.8
    ##  7  1950 June      17.7
    ##  8  1950 March     17.3
    ##  9  1950 May       18.8
    ## 10  1950 November  19.5
    ## # ℹ 777 more rows

### Cleaning the unemployment dataset

``` r
unemployment_df <- read_csv("data/fivethirtyeight_datasets/unemployment.csv") %>%
  pivot_longer(
    cols = Jan:Dec,
    names_to = "month",
    values_to = "unemployment"
  ) %>%
  mutate(
    month = match(month, month.abb),
    month = month.name[month]
  ) %>%
  rename(year = Year)
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
unemployment_df
```

    ## # A tibble: 816 × 3
    ##     year month     unemployment
    ##    <dbl> <chr>            <dbl>
    ##  1  1948 January            3.4
    ##  2  1948 February           3.8
    ##  3  1948 March              4  
    ##  4  1948 April              3.9
    ##  5  1948 May                3.5
    ##  6  1948 June               3.6
    ##  7  1948 July               3.6
    ##  8  1948 August             3.9
    ##  9  1948 September          3.8
    ## 10  1948 October            3.7
    ## # ℹ 806 more rows

### Merging the datasets

``` r
final_df <- pols_df %>%
  left_join(snp_df, by = c("year", "month")) %>%
  left_join(unemployment_df, by = c("year", "month"))

final_df
```

    ## # A tibble: 822 × 11
    ##     year month   gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president close
    ##    <dbl> <chr>     <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>
    ##  1  1947 January      23      51     253      23      45     198 dem          NA
    ##  2  1947 Februa…      23      51     253      23      45     198 dem          NA
    ##  3  1947 March        23      51     253      23      45     198 dem          NA
    ##  4  1947 April        23      51     253      23      45     198 dem          NA
    ##  5  1947 May          23      51     253      23      45     198 dem          NA
    ##  6  1947 June         23      51     253      23      45     198 dem          NA
    ##  7  1947 July         23      51     253      23      45     198 dem          NA
    ##  8  1947 August       23      51     253      23      45     198 dem          NA
    ##  9  1947 Septem…      23      51     253      23      45     198 dem          NA
    ## 10  1947 October      23      51     253      23      45     198 dem          NA
    ## # ℹ 812 more rows
    ## # ℹ 1 more variable: unemployment <dbl>

### Description of the datasets

The **pols-month dataset** contained information about the number of
national politicians who are democratic or republican at any given time.
It included variables for the number of governors, senators, and
representatives from each party, as well as whether the president was
democratic or republican. After cleaning, the dataset has 822
observations.

The **snp dataset** contained information related to Standard & Poor’s
stock market index (S&P), which is often used as a representative
measure of stock market as a whole. The `close` variable represents the
closing values of the S&P stock index on the associated date. After
cleaning, the dataset has 787 observations.

The **unemployment dataset** contained monthly unemployment percentages
from January 1948 to June 2015. After tidying from wide to long format,
the dataset has 816 observations.

The **final merged dataset** combines all three datasets and contains
822 observations and 11 variables. The dataset spans from 1947 to 2015.
Key variables include:

- `year` and `month`: Time identifiers
- `president`: Whether the president was democratic (“dem”) or
  republican (“gop”)
- `gov_gop`, `sen_gop`, `rep_gop`: Number of republican governors,
  senators, and representatives
- `gov_dem`, `sen_dem`, `rep_dem`: Number of democratic governors,
  senators, and representatives
- `close`: Closing values of the S&P stock index
- `unemployment`: Unemployment percentage

## Problem 2

This problem uses the Mr. Trash Wheel dataset to analyze trash
collection from water wheels in Baltimore’s Inner Harbor.

### Loading required libraries

``` r
library(readxl)
```

### Reading and cleaning Mr. Trash Wheel data

``` r
mr_trash_wheel <- read_excel("data/202509 Trash Wheel Collection Data.xlsx",
                              sheet = "Mr. Trash Wheel") %>%
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(
    sports_balls = as.integer(round(sports_balls)),
    trash_wheel = "Mr. Trash Wheel",
    year = as.numeric(year)
  )
```

    ## New names:
    ## • `` -> `...15`
    ## • `` -> `...16`

``` r
mr_trash_wheel
```

    ## # A tibble: 707 × 17
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76                 18
    ## # ℹ 697 more rows
    ## # ℹ 11 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, sports_balls <int>, homes_powered <dbl>, x15 <lgl>,
    ## #   x16 <lgl>, trash_wheel <chr>

### Reading and cleaning Professor Trash Wheel data

``` r
professor_trash_wheel <- read_excel("data/202509 Trash Wheel Collection Data.xlsx",
                                     sheet = "Professor Trash Wheel") %>%
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(
    trash_wheel = "Professor Trash Wheel",
    year = as.numeric(year)
  )

professor_trash_wheel
```

    ## # A tibble: 132 × 14
    ##    dumpster month     year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr>    <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 January   2017 2017-01-02 00:00:00        1.79                 15
    ##  2        2 January   2017 2017-01-30 00:00:00        1.58                 15
    ##  3        3 February  2017 2017-02-26 00:00:00        2.32                 18
    ##  4        4 February  2017 2017-02-26 00:00:00        3.72                 15
    ##  5        5 February  2017 2017-02-28 00:00:00        1.45                 15
    ##  6        6 March     2017 2017-03-30 00:00:00        1.71                 15
    ##  7        7 April     2017 2017-04-01 00:00:00        1.82                 15
    ##  8        8 April     2017 2017-04-20 00:00:00        2.37                 15
    ##  9        9 May       2017 2017-05-10 00:00:00        2.64                 15
    ## 10       10 May       2017 2017-05-26 00:00:00        2.78                 15
    ## # ℹ 122 more rows
    ## # ℹ 8 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, homes_powered <dbl>, trash_wheel <chr>

### Reading and cleaning Gwynnda data

``` r
gwynnda_trash_wheel <- read_excel("data/202509 Trash Wheel Collection Data.xlsx",
                                   sheet = "Gwynns Falls Trash Wheel") %>%
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(
    trash_wheel = "Gwynnda",
    year = as.numeric(year)
  )

gwynnda_trash_wheel
```

    ## # A tibble: 349 × 13
    ##    dumpster month   year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr>  <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 July    2021 2021-07-03 00:00:00        0.93                 15
    ##  2        2 July    2021 2021-07-07 00:00:00        2.26                 15
    ##  3        3 July    2021 2021-07-07 00:00:00        1.62                 15
    ##  4        4 July    2021 2021-07-16 00:00:00        1.76                 15
    ##  5        5 July    2021 2021-07-30 00:00:00        1.53                 15
    ##  6        6 August  2021 2021-08-11 00:00:00        2.06                 15
    ##  7        7 August  2021 2021-08-14 00:00:00        1.9                  15
    ##  8        8 August  2021 2021-08-16 00:00:00        2.16                 15
    ##  9        9 August  2021 2021-08-16 00:00:00        2.6                  15
    ## 10       10 August  2021 2021-08-17 00:00:00        3.21                 15
    ## # ℹ 339 more rows
    ## # ℹ 7 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, plastic_bags <dbl>, wrappers <dbl>,
    ## #   homes_powered <dbl>, trash_wheel <chr>

### Combining all Trash Wheel datasets

``` r
trash_wheel_combined <- bind_rows(mr_trash_wheel, professor_trash_wheel, gwynnda_trash_wheel)

trash_wheel_combined
```

    ## # A tibble: 1,188 × 17
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76                 18
    ## # ℹ 1,178 more rows
    ## # ℹ 11 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, sports_balls <int>, homes_powered <dbl>, x15 <lgl>,
    ## #   x16 <lgl>, trash_wheel <chr>

### Calculating key statistics

``` r
# Total weight collected by Professor Trash Wheel
professor_total_weight <- trash_wheel_combined %>%
  filter(trash_wheel == "Professor Trash Wheel") %>%
  pull(weight_tons) %>%
  sum(na.rm = TRUE)

# Total cigarette butts collected by Gwynnda in June 2022
gwynnda_june_2022_cigs <- trash_wheel_combined %>%
  filter(trash_wheel == "Gwynnda", 
         month == "June", 
         year == 2022) %>%
  pull(cigarette_butts) %>%
  sum(na.rm = TRUE)
```

### Description of the Trash Wheel data

The combined Trash Wheel dataset contains 1188 observations from three
different water wheels: Mr. Trash Wheel, Professor Trash Wheel, and
Gwynnda. The dataset includes 17 variables that track trash collection
efforts.

Key variables include:

- `dumpster`: Dumpster number
- `date`: Date of collection
- `weight_tons`: Weight of trash collected in tons
- `volume_cubic_yards`: Volume of trash collected
- `plastic_bottles`, `polystyrene`, `cigarette_butts`, `glass_bottles`,
  `plastic_bags`, `wrappers`, `sports_balls`: Counts of specific types
  of trash
- `homes_powered`: Approximate number of homes powered by the trash
  incineration
- `trash_wheel`: Identifier for which Trash Wheel collected the data

The total weight of trash collected by Professor Trash Wheel was
**282.26 tons**. The total number of cigarette butts collected by
Gwynnda in June of 2022 was **18,120**.

## Problem 3

This problem analyzes rental price trends in New York City using the
Zillow Observed Rent Index (ZORI) data.

### Importing and cleaning ZIP code data

``` r
nyc_zipcodes <- read_csv("data/zillow_data/Zip Codes.csv") %>%
  janitor::clean_names() %>%
  rename(borough = county) %>%
  select(zip = zip_code, borough, neighborhood)
```

    ## Rows: 322 Columns: 7
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (4): County, County Code, File Date, Neighborhood
    ## dbl (3): State FIPS, County FIPS, ZipCode
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
nyc_zipcodes
```

    ## # A tibble: 322 × 3
    ##      zip borough neighborhood              
    ##    <dbl> <chr>   <chr>                     
    ##  1 10451 Bronx   High Bridge and Morrisania
    ##  2 10452 Bronx   High Bridge and Morrisania
    ##  3 10453 Bronx   Central Bronx             
    ##  4 10454 Bronx   Hunts Point and Mott Haven
    ##  5 10455 Bronx   Hunts Point and Mott Haven
    ##  6 10456 Bronx   High Bridge and Morrisania
    ##  7 10457 Bronx   Central Bronx             
    ##  8 10458 Bronx   Bronx Park and Fordham    
    ##  9 10459 Bronx   Hunts Point and Mott Haven
    ## 10 10460 Bronx   Central Bronx             
    ## # ℹ 312 more rows

### Importing and cleaning rental price data

``` r
rental_prices <- read_csv("data/zillow_data/Zip_zori_uc_sfrcondomfr_sm_month_NYC.csv") %>%
  janitor::clean_names() %>%
  select(region_name, starts_with("x")) %>%
  rename(zip = region_name) %>%
  pivot_longer(
    cols = starts_with("x"),
    names_to = "date",
    values_to = "rental_price",
    names_prefix = "x"
  ) %>%
  mutate(
    date = as.Date(date, format = "%Y_%m_%d"),
    year = year(date),
    month = month(date, label = TRUE, abbr = FALSE)
  ) %>%
  filter(date >= as.Date("2015-01-01"), date <= as.Date("2024-08-31"))
```

    ## Rows: 149 Columns: 125
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr   (6): RegionType, StateName, State, City, Metro, CountyName
    ## dbl (119): RegionID, SizeRank, RegionName, 2015-01-31, 2015-02-28, 2015-03-3...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
rental_prices
```

    ## # A tibble: 17,284 × 5
    ##      zip date       rental_price  year month    
    ##    <dbl> <date>            <dbl> <dbl> <ord>    
    ##  1 11368 2015-01-31           NA  2015 January  
    ##  2 11368 2015-02-28           NA  2015 February 
    ##  3 11368 2015-03-31           NA  2015 March    
    ##  4 11368 2015-04-30           NA  2015 April    
    ##  5 11368 2015-05-31           NA  2015 May      
    ##  6 11368 2015-06-30           NA  2015 June     
    ##  7 11368 2015-07-31           NA  2015 July     
    ##  8 11368 2015-08-31           NA  2015 August   
    ##  9 11368 2015-09-30           NA  2015 September
    ## 10 11368 2015-10-31           NA  2015 October  
    ## # ℹ 17,274 more rows

### Merging datasets

``` r
rental_data_combined <- rental_prices %>%
  left_join(nyc_zipcodes, by = "zip") %>%
  select(zip, borough, neighborhood, date, year, month, rental_price) %>%
  arrange(zip, date)
```

    ## Warning in left_join(., nyc_zipcodes, by = "zip"): Detected an unexpected many-to-many relationship between `x` and `y`.
    ## ℹ Row 4757 of `x` matches multiple rows in `y`.
    ## ℹ Row 256 of `y` matches multiple rows in `x`.
    ## ℹ If a many-to-many relationship is expected, set `relationship =
    ##   "many-to-many"` to silence this warning.

``` r
rental_data_combined
```

    ## # A tibble: 17,516 × 7
    ##      zip borough  neighborhood        date        year month     rental_price
    ##    <dbl> <chr>    <chr>               <date>     <dbl> <ord>            <dbl>
    ##  1 10001 New York Chelsea and Clinton 2015-01-31  2015 January          3855.
    ##  2 10001 New York Chelsea and Clinton 2015-02-28  2015 February         3892.
    ##  3 10001 New York Chelsea and Clinton 2015-03-31  2015 March            3898.
    ##  4 10001 New York Chelsea and Clinton 2015-04-30  2015 April            3970.
    ##  5 10001 New York Chelsea and Clinton 2015-05-31  2015 May              4033.
    ##  6 10001 New York Chelsea and Clinton 2015-06-30  2015 June             4071.
    ##  7 10001 New York Chelsea and Clinton 2015-07-31  2015 July             4067.
    ##  8 10001 New York Chelsea and Clinton 2015-08-31  2015 August           4070.
    ##  9 10001 New York Chelsea and Clinton 2015-09-30  2015 September        4040.
    ## 10 10001 New York Chelsea and Clinton 2015-10-31  2015 October          4023.
    ## # ℹ 17,506 more rows

### Description of the final dataset

The final tidy dataset contains **17516 observations** from January 2015
to August 2024. The dataset includes **149 unique ZIP codes** and **43
unique neighborhoods** across New York City’s five boroughs.

Key variables include:

- `zip`: ZIP code
- `borough`: NYC borough (Manhattan, Brooklyn, Queens, Bronx, Staten
  Island)
- `neighborhood`: Neighborhood name within the borough
- `date`: Date of observation
- `year` and `month`: Time identifiers
- `rental_price`: Zillow Observed Rent Index value

### ZIP codes in ZIP code dataset but not in Zillow data

``` r
zipcodes_in_zipfile <- nyc_zipcodes %>% pull(zip)
zipcodes_in_zillow <- rental_data_combined %>% pull(zip) %>% unique()

missing_zipcodes <- setdiff(zipcodes_in_zipfile, zipcodes_in_zillow)

# Get some examples with their neighborhoods
missing_examples <- nyc_zipcodes %>%
  filter(zip %in% missing_zipcodes) %>%
  head(10)

missing_examples
```

    ## # A tibble: 10 × 3
    ##      zip borough neighborhood              
    ##    <dbl> <chr>   <chr>                     
    ##  1 10464 Bronx   Southeast Bronx           
    ##  2 10474 Bronx   Hunts Point and Mott Haven
    ##  3 10475 Bronx   Northeast Bronx           
    ##  4 10499 Bronx   <NA>                      
    ##  5 10550 Bronx   <NA>                      
    ##  6 10704 Bronx   <NA>                      
    ##  7 10705 Bronx   <NA>                      
    ##  8 10803 Bronx   <NA>                      
    ##  9 11202 Kings   <NA>                      
    ## 10 11224 Kings   Southern Brooklyn

There are **171 ZIP codes** that appear in the ZIP code dataset but not
in the Zillow rental price dataset.

**Why these ZIP codes might be excluded:**

1.  **Commercial or industrial areas**: Some ZIP codes like 1.0464^{4}
    (Southeast Bronx) may be primarily commercial or industrial with
    minimal residential rental properties.

2.  **Insufficient rental data**: Zillow may exclude areas where there
    isn’t enough rental market activity or data to reliably calculate
    the rental index.

3.  **Public housing or non-market rate housing**: Some neighborhoods
    may have predominantly public housing or rent-controlled units that
    don’t reflect market rates.

4.  **Small geographic areas**: Some ZIP codes may cover very small
    areas with too few rental properties to provide meaningful
    statistics.

### COVID-19 pandemic rental price changes

``` r
covid_comparison <- rental_data_combined %>%
  filter((year == 2020 & month == "January") | (year == 2021 & month == "January")) %>%
  select(zip, borough, neighborhood, year, rental_price) %>%
  pivot_wider(
    names_from = year,
    values_from = rental_price,
    names_prefix = "price_"
  ) %>%
  mutate(
    price_drop = price_2020 - price_2021,
    percent_change = ((price_2021 - price_2020) / price_2020) * 100
  ) %>%
  filter(!is.na(price_drop)) %>%
  arrange(desc(price_drop)) %>%
  head(10)

covid_comparison
```

    ## # A tibble: 10 × 7
    ##      zip borough  neighborhood   price_2020 price_2021 price_drop percent_change
    ##    <dbl> <chr>    <chr>               <dbl>      <dbl>      <dbl>          <dbl>
    ##  1 10007 New York Lower Manhatt…      6334.      5422.       913.          -14.4
    ##  2 10069 New York <NA>                4623.      3875.       748.          -16.2
    ##  3 10009 New York Lower East Si…      3406.      2692.       714.          -21.0
    ##  4 10016 New York Gramercy Park…      3731.      3019.       712.          -19.1
    ##  5 10001 New York Chelsea and C…      4108.      3398.       710.          -17.3
    ##  6 10002 New York Lower East Si…      3645.      2935.       710.          -19.5
    ##  7 10004 New York Lower Manhatt…      3150.      2444.       706.          -22.4
    ##  8 10038 New York Lower Manhatt…      3573.      2876.       698.          -19.5
    ##  9 10012 New York Greenwich Vil…      3629.      2942.       686.          -18.9
    ## 10 10010 New York Gramercy Park…      3697.      3012.       685.          -18.5

### Analysis of the largest rental price drops

The table above shows the 10 ZIP codes with the largest drops in rental
prices from January 2020 to January 2021, during the COVID-19 pandemic.

**Key observations:**

1.  **Geographic concentration**: Many of the ZIP codes with the largest
    price drops are located in Manhattan and Brooklyn, particularly in
    neighborhoods that were traditionally high-rent areas.

2.  **Urban exodus effect**: The pandemic caused many residents to leave
    dense urban areas for suburbs or less expensive neighborhoods,
    leading to decreased demand and falling prices in previously
    expensive areas.

3.  **Price drop magnitude**: The largest drops were substantial, with
    some areas seeing decreases of over \$913 per month.

4.  **Luxury market impact**: High-end neighborhoods may have been
    particularly affected as remote work reduced the need to live close
    to Manhattan offices, and international students/workers left the
    city.

5.  **Percentage changes**: The percentage changes (shown as
    `percent_change`) indicate that some areas saw declines of 14.4% or
    more, representing significant market corrections.

This dramatic shift in rental prices reflects the unique impact of the
pandemic on urban housing markets, particularly in high-density,
high-cost areas.
